<div ng-cloak>

	<form name="identityForm" role="form" class="form-horizontal" novalidate ng-submit="save()" show-validation>
	
		<div class="row">
			<h2><span translate="etudier.identity.form.title">Identity</span></h2>
	    
			<div class="col-md-8">
			
			    <jh-alert-error></jh-alert-error>
			    <div class="form-group">
			        <label translate="etudier.identity.form.lastName" for="field_lastName">LastName</label>
			        <input type="text" class="form-control" name="lastName" id="field_lastName" ng-model="identity.lastName" required>
			
			        <div ng-show="identityForm.lastName.$dirty && identityForm.lastName.$invalid">
			            <p class="help-block" ng-show="identityForm.lastName.$error.required" translate="entity.validation.required">
			                This field is required.
			            </p>
			        </div>
			    </div>
			    <div class="form-group">
			        <label translate="etudier.identity.form.usedLastName" for="field_usedLastName">UsedLastName</label>
			        <input type="text" class="form-control" name="usedLastName" id="field_usedLastName" ng-model="identity.usedLastName" >
			
			    </div>
			    <div class="form-group">
			        <label translate="etudier.identity.form.firstName" for="field_firstName">FirstName</label>
			        <input type="text" class="form-control" name="firstName" id="field_firstName" ng-model="identity.firstName" >
			
			    </div>
			    <div class="form-group">
			        <label translate="etudier.identity.form.sex" for="field_sex">Sex</label>
			        <div>
				        <label class="radio-inline"><input type="radio" id="field_sex" name="sex" ng-model="identity.sex" value="F" required>{{'sejourApp.SexType.F' | translate}}</label>
						<label class="radio-inline"><input type="radio" id="field_sex" name="sex" ng-model="identity.sex" value="M" required>{{'sejourApp.SexType.M' | translate}}</label>
	                </div>
			        <div ng-show="identityForm.sex.$dirty && identityForm.sex.$invalid">
			            <p class="help-block" ng-show="identityForm.sex.$error.required" translate="entity.validation.required">
			                This field is required.
			            </p>
			        </div>
			    </div>
			    
			    <div class="form-group">
			        <label translate="etudier.identity.form.birthDate" for="field_birthDate">BirthDate</label>
			        <div class="input-group date">
				        <span class="input-group-addon">
	                        <span class="fa fa-calendar"></span>
	                    </span>
	                    <input type="text" class="form-control"
					           datetimepicker
					           datetimepicker-options="{{birthDatePickerOptions}}"
					           name="birthDateTxt" id="field_birthDateTxt"
					           ng-model="identity.birthDateTxt"
					           placeholder="{{'global.form.date.format' | translate}}">
					</div>
					
			        <div ng-show="identityForm.birthDateTxt.$dirty && identityForm.birthDateTxt.$invalid">
			            <p class="help-block" ng-show="identityForm.birthDateTxt.$error.required" translate="entity.validation.required">
			                This field is required.
			            </p>
			            <p class="help-block" ng-show="identityForm.birthDateTxt.$error.date" translate="entity.validation.date">
			                This field should be a date.
			            </p>
			        </div>
			    </div>
			    <div class="form-group">
			        <label translate="etudier.identity.form.birthCity" for="field_birthCity">BirthCity</label>
			        <input type="text" class="form-control" name="birthCity" id="field_birthCity"
			                ng-model="identity.birthCity" required>
			
			        <div ng-show="identityForm.birthCity.$dirty && identityForm.birthCity.$invalid">
			            <p class="help-block" ng-show="identityForm.birthCity.$error.required" translate="entity.validation.required">
			                This field is required.
			            </p>
			        </div>
			    </div>
			    <div class="form-group">
			        <label translate="etudier.identity.form.birthCountry" for="field_birthCountry">BirthCountry</label>
			        <select class="form-control" name="birthCountry" id="field_birthCountry"
					      ng-options="country.key as country.name for country in countries | orderBy:'name'"
					      ng-model="identity.birthCountry" required></select>
			
			        <div ng-show="identityForm.birthCountry.$dirty && identityForm.birthCountry.$invalid">
			            <p class="help-block" ng-show="identityForm.birthCountry.$error.required" translate="entity.validation.required">
			                This field is required.
			            </p>
			        </div>
			    </div>
			    <div class="form-group">
			        <label translate="etudier.identity.form.nationality" for="field_nationality">Nationality</label>
			        <select class="form-control" name="nationality" id="field_nationality"
					      ng-options="country.key as country.name for country in countries | orderBy:'name'"
					      ng-model="identity.nationality" required></select>
			        
			        <div ng-show="identityForm.nationality.$dirty && identityForm.nationality.$invalid">
			            <p class="help-block" ng-show="identityForm.nationality.$error.required" translate="entity.validation.required">
			                This field is required.
			            </p>
			        </div>
			    </div>
			    <div class="form-group">
			        <label translate="etudier.identity.form.passportNumber" for="field_passportNumber">PassportNumber</label>
			        <input type="text" class="form-control" name="passportNumber" id="field_passportNumber" ng-model="identity.passportNumber" required>
			
			        <div ng-show="identityForm.passportNumber.$dirty && identityForm.passportNumber.$invalid">
			            <p class="help-block" ng-show="identityForm.passportNumber.$error.required" translate="entity.validation.required">
			                This field is required.
			            </p>
			        </div>
			    </div>
		    </div>
		</div>
	    <div class="row">
			<h3><span translate="etudier.identity.form.document.title">Identity documents</span></h3>
	    
			<div class="col-md-8">
			    <div class="form-group">
			        <label translate="etudier.identity.form.passport" for="field_passport">Passport</label>
			        <div class="input-group">
				        <span class="input-group-addon" id="logo_passport">
	                        <span class="fa fa-file"></span>
	                    </span>
				        <input id="file_passport" type="file" ng-model="passportFile" onchange="angular.element(this).scope().uploadPassportFile(this)" style="display: none;">
				        <input type="text" class="form-control" name="passport" id="field_passport" readonly="readonly"
				                ng-model="identity.passport" placeholder="{{'etudier.identity.form.passport.placeholder' | translate}}" 
				                required >
					</div>
							
			        <div ng-show="identityForm.passport.$dirty && identityForm.passport.$invalid">
			            <p class="help-block" ng-show="identityForm.passport.$error.required" translate="entity.validation.required">
			                This field is required.
			            </p>
			        </div>
			    </div>
			    <div class="form-group">
			        <label translate="etudier.identity.form.birthAct" for="field_birthAct">BirthAct</label>
			        <div class="input-group">
				        <span class="input-group-addon" id="logo_birthAct">
	                        <span class="fa fa-file"></span>
	                    </span>
				        <input id="file_birthAct" type="file" ng-model="birthActFile" onchange="angular.element(this).scope().uploadBirthActFile(this)" style="display: none;">
				        <input type="text" class="form-control" name="birthAct" id="field_birthAct" readonly="readonly"
				                ng-model="identity.birthAct" placeholder="{{'etudier.identity.form.birthAct.placeholder' | translate}}"
				                required >
					</div>
							
			        <div ng-show="identityForm.birthAct.$dirty && identityForm.birthAct.$invalid">
			            <p class="help-block" ng-show="identityForm.birthAct.$error.required" translate="entity.validation.required">
			                This field is required.
			            </p>
			        </div>
			    </div>
		    </div>
		    <div class="row">
		    	<div class="col-md-8">
		        	<button type="submit" ng-disabled="identityForm.$invalid || identityForm.$submitted" class="btn btn-fun"
		        		translate="etudier.button.continue">Save</button>
	        	</div>
	        </div>
		</div>
	</form>
</div>

<script type="text/javascript">
	$('#logo_passport').click(function(){
	    $('#file_passport').click();
	});
	$('#field_passport').click(function(){
	    $('#file_passport').click();
	});
	$('#logo_birthAct').click(function(){
	    $('#file_birthAct').click();
	});
	$('#field_birthAct').click(function(){
	    $('#file_birthAct').click();
	});
</script>
