<div ng-cloak>
    <div class="row title-main title-underline">
    	<h4 translate="agent.title.{{application.type}}.{{application.nature}}" translate-values="{ studentName: '{{studentName}}'}"></h4>
    </div>
	<br><br>
	<!-- IDENTITY -->
	<div class="row">
		<div class="col-xs-9 col-sm-8 col-sm-offset-1">
			<div class="collapsable-panel" ng-class="{'opened': panel.identity.open}" ng-click="panel.identity.open = !panel.identity.open">
				<div class="panel-heading">
					<span class="glyphicon" ng-class="{'glyphicon-triangle-top': panel.identity.open, 'glyphicon-triangle-bottom': !panel.identity.open}"></span>
					<h5 class="panel-title" translate="admissibility.form.identity">Identity</h5>
				</div>
			</div>
		</div>
		<div class="col-xs-3 validation-form">
			<img class="hand" src="assets/images/checkbox_unchecked.png" ng-show="!panel.identity.valid" ng-click="panel.identity.valid = !panel.identity.valid; panel.identity.open = false;">
			<img class="hand" src="assets/images/checkbox_checked.png" ng-show="panel.identity.valid" ng-click="panel.identity.valid = !panel.identity.valid">
			<span translate="admissibility.form.toVerify" ng-show="!panel.identity.valid">To validate</span>
			<span translate="admissibility.form.verified" ng-show="panel.identity.valid">validate</span>
		</div>
	</div>
	<div class="row" ng-show="panel.identity.open">
		<div class="col-sm-11 col-sm-offset-1">
			<div class="row validation-visualization-row" ng-class="{'opened': panel.identity.open}">
				<ng-include src="'scripts/app/application/identity/identity-view.html'"></ng-include>
			</div>
		</div>
	</div>
	<!-- FAMILY -->
	<div ng-if="displayFamily">
		<div class="row">
			<div class="col-xs-9 col-sm-8 col-sm-offset-1">
				<div class="collapsable-panel" ng-class="{'opened': panel.family.open}" ng-click="panel.family.open = !panel.family.open">
					<div class="panel-heading">
						<span class="glyphicon" ng-class="{'glyphicon-triangle-top': panel.family.open, 'glyphicon-triangle-bottom': !panel.family.open}"></span>
						<h5 class="panel-title" translate="admissibility.form.family">Family</h5>
					</div>
				</div>
			</div>
			<div class="col-xs-3 validation-form">
				<img class="hand" src="assets/images/checkbox_unchecked.png" ng-show="!panel.family.valid" ng-click="panel.family.valid = !panel.family.valid; panel.family.open = false;">
				<img class="hand" src="assets/images/checkbox_checked.png" ng-show="panel.family.valid" ng-click="panel.family.valid = !panel.family.valid">
				<span translate="admissibility.form.toVerify" ng-show="!panel.family.valid">To validate</span>
				<span translate="admissibility.form.verified" ng-show="panel.family.valid">validate</span>
			</div>
		</div>
		<div class="row" ng-show="panel.family.open">
			<div class="col-sm-11 col-sm-offset-1">
				<div class="row validation-visualization-row opened">
					<family-view ng-model="identity"></family-view>
				</div>
			</div>
		</div>
	</div>
	<!-- ADDRESS -->
	<div class="row">
		<div class="col-xs-9 col-sm-8 col-sm-offset-1">
			<div class="collapsable-panel" ng-class="{'opened': panel.address.open}" ng-click="panel.address.open = !panel.address.open">
				<div class="panel-heading">
					<span class="glyphicon" ng-class="{'glyphicon-triangle-top': panel.address.open, 'glyphicon-triangle-bottom': !panel.address.open}"></span>
					<h5 class="panel-title" translate="admissibility.form.address">Address</h5>
				</div>
			</div>
		</div>
		<div class="col-xs-3 validation-form">
			<img class="hand" src="assets/images/checkbox_unchecked.png" ng-show="!panel.address.valid" ng-click="panel.address.valid = !panel.address.valid; panel.address.open = false;">
			<img class="hand" src="assets/images/checkbox_checked.png" ng-show="panel.address.valid" ng-click="panel.address.valid = !panel.address.valid">
			<span translate="admissibility.form.toVerify" ng-show="!panel.address.valid">To validate</span>
			<span translate="admissibility.form.verified" ng-show="panel.address.valid">validate</span>
		</div>
	</div>
	<div class="row" ng-show="panel.address.open">
		<div class="col-sm-11 col-sm-offset-1">
			<div class="row validation-visualization-row" ng-class="{'opened': panel.address.open}">
				<ng-include src="'scripts/app/application/address/address-view.html'"></ng-include>
			</div>
		</div>
	</div>
	<!-- PROJECT -->
	<div class="row">
		<div class="col-xs-9 col-sm-8 col-sm-offset-1">
			<div class="collapsable-panel" ng-class="{'opened': panel.project.open}" ng-click="panel.project.open = !panel.project.open">
				<div class="panel-heading">
					<span class="glyphicon" ng-class="{'glyphicon-triangle-top': panel.project.open, 'glyphicon-triangle-bottom': !panel.project.open}"></span>
					<h5 class="panel-title" translate="admissibility.form.project">Project</h5>
				</div>
			</div>
		</div>
		<div class="col-xs-3 validation-form">
			<img class="hand" src="assets/images/checkbox_unchecked.png" ng-show="!panel.project.valid" ng-click="panel.project.valid = !panel.project.valid; panel.project.open = false;">
			<img class="hand" src="assets/images/checkbox_checked.png" ng-show="panel.project.valid" ng-click="panel.project.valid = !panel.project.valid">
			<span translate="admissibility.form.toVerify" ng-show="!panel.project.valid">To validate</span>
			<span translate="admissibility.form.verified" ng-show="panel.project.valid">validate</span>
		</div>
	</div>
	<div class="row" ng-show="panel.project.open">
		<div class="col-sm-11 col-sm-offset-1">
			<div class="row validation-visualization-row" ng-class="{'opened': panel.project.open}">
				<ng-include src="'scripts/app/application/project/project-'+application.nature+'-view.html'"></ng-include>
			</div>
		</div>
	</div>
	<br>
	<br>
	<div class="row row-center">
    	<button class="btn btn-danger" translate="admissibility.form.button.decline">Decline</button>
    	<button class="btn btn-success btn-right" translate="admissibility.form.button.accept"
    			 ng-disabled="!panel.identity.valid || (displayFamily && !panel.family.valid) || !panel.address.valid || !panel.project.valid"
    			 ng-click="verify()">Accept</button>
	</div>
</div>
    
<script type="text/javascript">
	$("html, body").animate({ scrollTop: 0 }, "slow");
</script>